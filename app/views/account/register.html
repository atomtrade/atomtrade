<div wd-header></div>
<div class="wd-account-register wd-body">
    <div class="h2-title" ng-class="{hide: loading}">
        <p>注册账号</p>
    </div>
    <div ng-if="!register.uiSuccess" class="form" ng-class="{hide: loading}">
        <div class="item">
            <p class="title">手机号码</p>
            <input type="text" ng-model="register.phone" 
            ng-focus="focusPhone();"
            ng-blur="blurPhone()">
            <div class="form-item-tips" 
            ng-class="{
                hide: !register.uiPhoneTip && !register.uiPhoneError,
                error: register.uiPhoneError
            }">
                <p>{{register.uiPhoneTip || register.uiPhoneError}}</p>
            </div>
        </div>
        <div class="item">
            <p class="title">短信验证码</p>
            <input class="auth-code-input" type="text" 
            ng-model="register.verify_code" 
            ng-focus="focusVerifyCode();"
            ng-blur="blurVerifyCode()">
            <div class="btn auth-code-btn" ng-class="{disabled: register.uiCountdown}">
                <p ng-if="!register.uiCountdown" ng-click="verifyPhone();">获取验证码</p>
                <p ng-if="register.uiCountdown">{{register.uiCountdown}} 秒</p>
            </div>
            <div class="form-item-tips" 
            ng-class="{
                hide: !register.uiVerifyCodeTip && !register.uiVerifyCodeError,
                error: register.uiVerifyCodeError
            }">
                <p>{{register.uiVerifyCodeTip || register.uiVerifyCodeError}}</p>
            </div>
        </div>
        <div class="item">
            <p class="title">设置登录密码</p>
            <input type="password" ng-model="register.password" 
            ng-focus="focusPassword();"
            ng-blur="blurPassword();">
            <div class="form-item-tips" 
            ng-class="{
                hide: !register.uiPasswordTip && !register.uiPasswordError,
                error: register.uiPasswordError
            }">
                <p>{{register.uiPasswordTip || register.uiPasswordError}}</p>
            </div>
        </div>
        <div class="item">
            <p class="title">再次确认密码</p>
            <input type="password" ng-model="register.password2" 
            ng-focus="focusPassword2();"
            ng-blur="blurPassword2();">
            <div class="form-item-tips" 
            ng-class="{
                hide: !register.uiPassword2Tip && !register.uiPassword2Error,
                error: register.uiPassword2Error
            }">
                <p>{{register.uiPassword2Tip || register.uiPassword2Error}}</p>
            </div>
        </div>
        <div class="item">
            <p class="title">邀请码</p>
            <input type="text" wd-placeholder="可选填" 
            ng-model="register.invite_code" 
            ng-focus="focusInviteCode();"
            ng-blur="blurInviteCode();">
            <div class="form-item-tips" 
            ng-class="{
                hide: !register.uiInviteCodeTip && !register.uiInviteCodeError,
                error: register.uiInviteCodeError
            }">
                <p>{{register.uiInviteCodeTip || register.uiInviteCodeError}}</p>
            </div>
        </div>
        <div class="item">
            <div class="btn register-btn" 
            ng-click="registerAccount();"
            ng-class="{disabled: !register.uiSelected}">立即注册</div>
            <p class="error">{{register.uiServerError}}</p>
        </div>
        <div class="ask">
            <input type="checkbox" ng-model="register.uiSelected">
            <p>同意并遵守
                <a target="_blank" href="http://register.guoking.com.hk:8080/WebBusiness/gk_open/pdf/secret.pdf">隐私声明</a>
                <!-- 和<a href="">服务条款</a> -->
            </p>
        </div>
    </div>
    <div ng-if="register.uiSuccess" class="success">
        <div class="icon-right"></div>
        <p class="title">注册成功，你现在开通股票账户即可获得<span class="strong">三个月免费交易</span></p>
        <a href="#/account-open" class="btn">立即开户</a>
    </div>
    <div ng-if="loading" wd-loading></div>
</div>
<div wd-footer></div>